(this["webpackJsonpreward-store"]=this["webpackJsonpreward-store"]||[]).push([[0],{13:function(e,t,a){e.exports=a.p+"static/media/close.048c2986.svg"},28:function(e,t,a){e.exports=a.p+"static/media/bg.eed908a5.jpg"},29:function(e,t,a){e.exports=a.p+"static/media/logo.86934d19.svg"},30:function(e,t,a){e.exports=a.p+"static/media/searchIcon.5aba2fec.svg"},32:function(e,t,a){e.exports=a(63)},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(11),o=a.n(c),s=a(7),i=a(13),l=a.n(i),d=a(4),u=a.n(d),m=a(1),p=a(5),b=a(6),E=a.n(b),g={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1Zjg1YTM4ODJiNjU3MDAwMWZjZTZjNDgiLCJpYXQiOjE2MDI1OTM2NzJ9.gfWDJZ2ivAHboxrzGa4awAzf-UTVmDHSJNqIDb8Ahwk")};var f=a(2),h=function(e){var t=e.isModalActive,a=e.setIsModalActive,c=Object(r.useState)(1e3),o=Object(s.a)(c,2),i=o[0],d=o[1],b=Object(f.b)();return n.a.createElement("div",{className:"".concat(t?"block":"hidden"," h-screen w-full bg-gray-800 bg-opacity-75 absolute top-0 right-0 z-50 flex items-center justify-center transition-all duration-150 op")},n.a.createElement("div",{className:"relative bg-white flex flex-col items-center justify-center p-20"},n.a.createElement("div",{onClick:function(){return a(!1)},className:"absolute top-0 right-0 h-5 w-5 mt-5 mr-5 cursor-pointer"},n.a.createElement("img",{src:l.a,alt:"",className:"h-5 w-5"})),n.a.createElement("h2",{className:"text-gray-800 text-2xl"},"How many points would you like to add?"),n.a.createElement("div",{className:"w-full flex items-center justify-around mt-8"},n.a.createElement("div",{className:"".concat(1e3===i?"bg-brand text-white":"bg-gray-200 text-gray-500"," text-xl text-center px-10 py-1 rounded-3xl shadow hover:shadow-md transition-all duration-300 cursor-pointer select-none"),onClick:function(){return d(1e3)}},"1000"),n.a.createElement("div",{className:"".concat(5e3===i?"bg-brand text-white":"bg-gray-200 text-gray-500"," text-xl text-center px-10 py-1 rounded-3xl shadow hover:shadow-md transition-all duration-300 cursor-pointer select-none"),onClick:function(){return d(5e3)}},"5000"),n.a.createElement("div",{className:"".concat(7500===i?"bg-brand text-white":"bg-gray-200 text-gray-500"," text-xl text-center px-10 py-1 rounded-3xl shadow hover:shadow-md transition-all duration-300 cursor-pointer select-none"),onClick:function(){return d(7500)}},"7500")),n.a.createElement("div",{className:"w-full flex justify-center mt-12"},n.a.createElement("button",{onClick:function(){return b(("number"!==typeof(e=i)&&console.error("addPoints() can only receive a Number as a parameter"),function(){var t=Object(p.a)(u.a.mark((function t(a){var r,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"ADD_POINTS_BEGIN"}),t.prev=1,t.next=4,E.a.post("https://coding-challenge-api.aerolab.co/products",{amount:e},{headers:Object(m.a)({},g)});case 4:r=t.sent,n=r.data,a({type:"ADD_POINTS_SUCCESS",payload:{response:n}}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error({error:t.t0}),a({type:"ADD_POINTS_FAILURE",payload:{error:t.t0}});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()));var e},className:"border-brand border-2 bg-transparent text-brand rounded-3xl mx-auto py-1 px-5 w-1/2 text-lg font-semibold hover:bg-brand hover:text-white transition-all duration-300 shadow hover:shadow-lg focus:outline-none"},"Add Points"))))},v=a(28),y=a.n(v),x=function(){return n.a.createElement("div",{className:"w-full  h-64 flex justify-center items-end bg-cover bg-center select-none",style:{backgroundImage:"url(".concat(y.a,")")}},n.a.createElement("h1",{className:"w-5/6 font-semibold text-4xl text-white mb-5"},"Electronics"))},O=a(29),w=a.n(O),j=a(9),N=a.n(j),C=function(e){return{type:"GET_USER_SUCCESS",payload:{userData:e}}},I={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1Zjg1YTM4ODJiNjU3MDAwMWZjZTZjNDgiLCJpYXQiOjE2MDI1OTM2NzJ9.gfWDJZ2ivAHboxrzGa4awAzf-UTVmDHSJNqIDb8Ahwk")};var _=function(e){var t=e.setIsModalActive,a=Object(f.b)();Object(r.useEffect)((function(){a(function(){var e=Object(p.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USER_BEGIN"}),e.prev=1,e.next=4,E.a.get("https://coding-challenge-api.aerolab.co/user/me",{headers:Object(m.a)({},I)});case 4:a=e.sent,r=a.data,t(C(r)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error({error:e.t0}),t({type:"GET_USER_FAILURE_FAILURE",payload:{error:e.t0}});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[a]);var c=Object(f.c)((function(e){return e.getUser})).userData,o=c.name,s=c.points;return n.a.createElement("div",{className:"w-full flex py-3 sticky top-0 bg-white z-10 shadow"},n.a.createElement("div",{className:"flex-grow"},n.a.createElement("img",{src:w.a,alt:"",className:"ml-8 h-6 w-6"})),n.a.createElement("div",{className:"flex items-center border-r border-gray-400 mr-8 pr-8 "},n.a.createElement("p",{onClick:function(){return t(!0)},className:"text-gray-700 hover:text-brand text-md mr-6 font-semibold select-none cursor-pointer transition-all duration-150"},"Add points"),n.a.createElement("p",{className:"text-gray-700 hover:text-brand text-md font-semibold select-none cursor-pointer transition-all duration-150"},"History")),n.a.createElement("div",{className:"flex mr-8 items-center"},n.a.createElement("p",{className:"text-gray-700 text-md mr-2 font-semibold"},o),n.a.createElement("div",{className:"bg-gray-300 flex items-center rounded-3xl py-1 px-3 select-none shadow hover:shadow-md transition-all duration-300"},n.a.createElement("p",{className:"text-sm text-gray-700 mr-2"},s),n.a.createElement("img",{src:N.a,alt:"coin",className:"h-3 w-3"}))))},S=a(30),D=a.n(S),T=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(f.b)();return n.a.createElement("div",{className:"flex items-center"},n.a.createElement("div",{className:"relative"},n.a.createElement("input",{type:"text",className:"w-full h-8 mr-6 rounded-3xl shadow text-sm px-5 py-5 focus:outline-none",placeholder:"Search a product...",value:a,onChange:function(e){return t=e.target.value,console.log({value:t}),c(t),void o(function(e){return{type:"SET_SEARCH_KEYWORD",payload:{keyword:e}}}(a));var t}}),n.a.createElement("div",{className:"absolute top-0 right-0 h-3 w-3 mt-4 mr-4 ".concat(""!==a?"hidden":"")},n.a.createElement("img",{src:D.a,alt:""})),n.a.createElement("div",{className:"absolute top-0 right-0 h-3 w-3 mt-4 mr-4 ".concat(""===a?"hidden":""),onClick:function(){return c(""),void o({type:"CLEAR_SEARCH_KEYWORD"})}},n.a.createElement("img",{src:l.a,alt:""}))))},R=function(){var e=Object(r.useState)("most-recent"),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(f.b)();return Object(r.useEffect)((function(){o({type:"SET_ACTIVE_FILTER",payload:{filter:a}})}),[a,o]),n.a.createElement("div",{className:"w-full flex justify-center"},n.a.createElement("div",{className:"w-5/6 flex border-b border-gray-300 mb-4 pb-4"},n.a.createElement("div",{className:"flex items-center pr-8 py-2"},n.a.createElement("p",{className:"text-gray-800 text-lg"},"16 of 32 products")),n.a.createElement("div",{className:"flex items-center flex-grow pl-8 border-l border-gray-300 py-2"},n.a.createElement("div",{className:"text-gray-800 text-lg"},"Sort By: "),n.a.createElement("div",{className:"".concat("most-recent"===a?"bg-brand text-white":"bg-gray-200 text-gray-500"," text-md text-center ml-5 px-3 py-1 rounded-3xl shadow hover:shadow-md transition-all duration-300 cursor-pointer select-none"),onClick:function(){return c("most-recent")}},"Most Recent"),n.a.createElement("div",{className:"".concat("lowest-price"===a?"bg-brand text-white":"bg-gray-200 text-gray-500"," text-md text-center ml-5 px-3 py-1 rounded-3xl shadow hover:shadow-md transition-all duration-300 cursor-pointer select-none"),onClick:function(){return c("lowest-price")}},"Lowest Price"),n.a.createElement("div",{className:"".concat("highest-price"===a?"bg-brand text-white":"bg-gray-200 text-gray-500"," text-md text-center ml-5 px-3 py-1 rounded-3xl shadow hover:shadow-md transition-all duration-300 cursor-pointer select-none"),onClick:function(){return c("highest-price")}},"Highest Price")),n.a.createElement("div",{className:"flex items-center pr-2 py-2"},n.a.createElement(T,null))))},A=a(8),U={points:0,error:!1,loading:!1},J=function(e){return{type:"GET_PRODUCTS_SUCCESS",payload:{products:e}}},k={products:[],error:!1,loading:!1},M={userData:{},error:!1,loading:!1},G={userHistory:{},error:!1,loading:!1},H={hasRedeemed:[],error:!1,loading:!1},P={activeFilter:void 0,searchKeyword:void 0},L=Object(A.c)({addPoints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POINTS_BEGIN":return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:!1});case"ADD_POINTS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,points:t.payload["new Points"]});case"ADD_POINTS_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.payload.error});default:return e}},getProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS_BEGIN":return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:!1});case"GET_PRODUCTS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,products:t.payload.products});case"GET_PRODUCTS_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,products:[],error:t.payload.error});default:return e}},getUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_BEGIN":return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:!1});case"GET_USER_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,userData:t.payload.userData});case"GET_USER_FAILURE_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.payload.error});default:return e}},getUserHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_HISTORY_BEGIN":return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:!1});case"GET_USER_HISTORY_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,userHistory:t.payload.userHistoryData});case"GET_USER_HISTORY_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.payload.error});default:return e}},redeemProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REDEEM_PRODUCT_BEGIN":return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:!1});case"REDEEM_PRODUCT_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,hasRedeemed:t.payload.response});case"REDEEM_PRODUCT_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.payload.error});default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_KEYWORD":return Object(m.a)(Object(m.a)({},e),{},{searchKeyword:t.payload.keyword});case"CLEAR_SEARCH_KEYWORD":return Object(m.a)(Object(m.a)({},e),{},{searchKeyword:void 0});case"SET_ACTIVE_FILTER":return Object(m.a)(Object(m.a)({},e),{},{activeFilter:t.payload.filter});default:return e}}}),z=a(31),Z=function(){return Object(A.d)(L,Object(A.a)(z.a))},F={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1Zjg1YTM4ODJiNjU3MDAwMWZjZTZjNDgiLCJpYXQiOjE2MDI1OTM2NzJ9.gfWDJZ2ivAHboxrzGa4awAzf-UTVmDHSJNqIDb8Ahwk")};var W={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1Zjg1YTM4ODJiNjU3MDAwMWZjZTZjNDgiLCJpYXQiOjE2MDI1OTM2NzJ9.gfWDJZ2ivAHboxrzGa4awAzf-UTVmDHSJNqIDb8Ahwk")};var Y=function(){return n.a.createElement("div",{className:"shopping-bag"},n.a.createElement("svg",{width:"18",height:"20",viewBox:"0 0 18 20",className:"shopping-bag-image",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M16.8822 4.53069L17.9947 18.1076C18.0334 18.594 17.8588 19.0785 17.5155 19.4366C17.1723 19.7946 16.6857 20 16.1806 20H1.81932C1.31418 20 0.827598 19.7946 0.484382 19.4365C0.141165 19.0784 -0.0334553 18.594 0.00531781 18.1074L1.11777 4.53069C1.14195 4.2253 1.40547 3.98944 1.72245 3.98944H4.75476V2.92969C4.75476 1.31426 6.11505 0 7.78706 0H10.2129C11.8849 0 13.2452 1.31426 13.2452 2.92969V3.98944H16.2775C16.5945 3.98944 16.858 4.2253 16.8822 4.53069ZM7.8 1C6.80748 1 6 2.00935 6 3.25V4H12V3.25C12 2.00935 11.1925 1 10.2 1H7.8Z"})))},B=function(e){return n.a.createElement("div",{className:"absolute top-0 right-0 bg-gray-900 bg-opacity-50 flex items-center rounded-full py-2 px-4 mt-2 mr-2 z-10"},n.a.createElement("p",{className:"text-white text-sm pt-1 mr-1"},"You need ",e.points," ")," ",n.a.createElement("img",{src:N.a,alt:"",className:"h-4 w-4 mt-1"}))},V=(a(61),function(e){var t=Object(f.c)((function(e){return e.getUser.userData})).points,a=e.product,r=a.name,c=a.cost,o=a.category,s=a.img,i=a.id,l=s.url,d=Object(f.b)(),b=t-c>=0;return n.a.createElement("div",{className:"single-product"},b&&n.a.createElement(Y,null),!b&&n.a.createElement(B,{points:t-c}),n.a.createElement("div",{className:"mx-5 mt-6 mb-4"},n.a.createElement("div",{className:"pb-4"},n.a.createElement("img",{src:l,alt:r})),n.a.createElement("div",{className:"pt-4 border-t border-gray-300"},n.a.createElement("p",{className:"text-sm text-gray-500 "},o),n.a.createElement("h3",{className:"text-lg text-gray-800 "},r))),n.a.createElement("div",{className:"single-product-description-overlay"},n.a.createElement("div",{className:"flex items-center select-none"},n.a.createElement("p",{className:"text-white text-2xl mr-3"},c),n.a.createElement("img",{src:N.a,alt:"",className:"h-5 w-5 mt-1"})),n.a.createElement("button",{className:"w-3/4 bg-white text-lg text-gray-800 text-center rounded-full shadow cursor-pointer select-none py-2 mt-4 hover:shadow-lg transition-all duration-300 focus:outline-none active:outline-none",onClick:function(){return d((e=i,function(){var t=Object(p.a)(u.a.mark((function t(a){var r,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"REDEEM_PRODUCT_BEGIN"}),t.prev=1,t.next=4,E.a.post("https://coding-challenge-api.aerolab.co/redeem",{body:{productId:e}},{headers:Object(m.a)({},W)});case 4:r=t.sent,n=r.data,a({type:"REDEEM_PRODUCT_SUCCESS",payload:{response:n}}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error({error:t.t0}),a({type:"REDEEM_PRODUCT_FAILURE",payload:{error:t.t0}});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()));var e}},"Redeem Now")))}),K=a(14),Q=function(e){var t=e.products,a=e.filter,r=function(e,t){return"most-recent"===t?Object(K.a)(e):"lowest-price"===t?Object(K.a)(e).sort((function(e,t){return e.cost-t.cost})):"highest-price"===t?Object(K.a)(e).sort((function(e,t){return t.cost-e.cost})):void 0}(function(e,t){return e.filter((function(e){return void 0===t||e.name.toLowerCase().includes(t.toLowerCase())}))}(t,e.searchKeyword),a);return n.a.createElement("div",{className:"w-5/6 flex flex-wrap justify-around items-center py-8"},r&&r.map((function(e){return n.a.createElement(V,{product:e,key:e._id})})))},X=function(){var e=Object(f.b)();Object(r.useEffect)((function(){e(function(){var e=Object(p.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_PRODUCTS_BEGIN"}),e.prev=1,e.next=4,E.a.get("https://coding-challenge-api.aerolab.co/products",{headers:Object(m.a)({},F)});case 4:a=e.sent,r=a.data,t(J(r)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error({error:e.t0}),t({type:"GET_PRODUCTS_FAILURE",payload:{error:e.t0}});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(f.c)((function(e){return e.getProducts})).products,a=Object(f.c)((function(e){return e.filters})),c=a.activeFilter,o=a.searchKeyword;return n.a.createElement("div",{className:"w-full flex justify-center"},n.a.createElement(Q,{products:t,filter:c,searchKeyword:o}))},q=Z();function $(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1];return n.a.createElement(f.a,{store:q},n.a.createElement("div",{className:"".concat(a?"h-screen overflow-hidden":"h-full"," w-full relative")},n.a.createElement(_,{setIsModalActive:c}),n.a.createElement(x,null),n.a.createElement("div",{className:"w-full bg-gray-100 pt-20"},n.a.createElement(R,null),n.a.createElement(X,null)),n.a.createElement(h,{isModalActive:a,setIsModalActive:c})))}q.subscribe((function(){return console.log({store:q.getState()})}));a(62);o.a.render(n.a.createElement($,null),document.querySelector("#root"))},9:function(e,t,a){e.exports=a.p+"static/media/coin.6ceba9ab.svg"}},[[32,1,2]]]);
//# sourceMappingURL=main.5ae343fd.chunk.js.map